[gd_resource type="BehaviorTree" load_steps=15 format=3 uid="uid://c3g0nsvud4nl"]

[ext_resource type="Script" path="res://ai/tasks/find_target.gd" id="1_42p2s"]
[ext_resource type="Script" path="res://ai/tasks/target_in_range.gd" id="1_dqkqj"]
[ext_resource type="Script" path="res://ai/tasks/get_flee_direction.gd" id="3_q6hi4"]
[ext_resource type="Script" path="res://ai/tasks/set_move_direction.gd" id="4_82spp"]
[ext_resource type="Script" path="res://ai/tasks/wait_on_timeout.gd" id="5_3kx3d"]

[sub_resource type="BlackboardPlan" id="BlackboardPlan_jb4f4"]

[sub_resource type="BTAction" id="BTAction_qhj27"]
script = ExtResource("1_42p2s")
group = &"team1"
target_actor_var = &"target_actor"

[sub_resource type="BTCondition" id="BTCondition_6bhr3"]
script = ExtResource("1_dqkqj")
distance_min = 10.0
distance_max = 300.0
target_actor_var = &"target_actor"

[sub_resource type="BTAction" id="BTAction_o36so"]
script = ExtResource("3_q6hi4")
target_actor_var = &"target_actor"
target_direction_var = &"target_direction"

[sub_resource type="BTAction" id="BTAction_v25np"]
script = ExtResource("4_82spp")
target_direction_var = &"target_direction"
direction_duration_var = &"direction_duration"
move_in_direction_duration = 1.0

[sub_resource type="BTAction" id="BTAction_sysvq"]
script = ExtResource("5_3kx3d")
timeout_var_name_var = &"direction_duration"

[sub_resource type="BTSequence" id="BTSequence_pwv4t"]
custom_name = "Run Away"
children = [SubResource("BTAction_qhj27"), SubResource("BTCondition_6bhr3"), SubResource("BTAction_o36so"), SubResource("BTAction_v25np"), SubResource("BTAction_sysvq")]

[sub_resource type="BTSequence" id="BTSequence_bcb5p"]
custom_name = "Do Nothing"

[sub_resource type="BTSelector" id="BTSelector_5nax6"]
children = [SubResource("BTSequence_pwv4t"), SubResource("BTSequence_bcb5p")]

[resource]
blackboard_plan = SubResource("BlackboardPlan_jb4f4")
root_task = SubResource("BTSelector_5nax6")
